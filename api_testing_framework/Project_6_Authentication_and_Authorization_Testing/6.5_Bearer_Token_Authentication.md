# Lesson 6.5: Bearer Token Authentication

## A. Concept Overview

### What & Why
**Bearer token authentication** uses a token (often JWT) in the Authorization header with "Bearer" prefix. It's the modern standard for API authentication, used by most REST APIs, OAuth 2.0, and microservices.

### Analogy
A bearer token is like a concert wristbandâ€”possession proves admission. Show the wristband (send the token), gain access. No wristband? No entry.

---

## B. Code Implementation

```python
import httpx
from httpx import Auth, Request


class BearerAuth(Auth):
    """Bearer token authentication for httpx."""
    
    def __init__(self, token: str):
        self.token = token
    
    def auth_flow(self, request: Request):
        request.headers["Authorization"] = f"Bearer {self.token}"
        yield request


# Usage
auth = BearerAuth(token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...")

client = httpx.Client(
    base_url="https://api.example.com",
    auth=auth
)

response = client.get("/protected")
```

---

## C. Connect & Apply

```python
auth = BearerAuth("test_token")
client = httpx.Client(base_url="https://httpbin.org", auth=auth)
response = client.get("/bearer")
print(f"Status: {response.status_code}")
```

---

## D. Common Stumbling Blocks

**Mistake:** Forgetting "Bearer " prefix
**Fix:** Format is exactly `Bearer {token}` with space

---

## ðŸŽ¯ Key Takeaways

âœ… **Bearer tokens** are modern API auth standard  
âœ… **Format:** `Authorization: Bearer {token}`  
âœ… **Usually JWT** but can be any token  
âœ… **Stateless** - no server-side session  

---

## What's Next?

Next: **Basic Authentication with httpx**!

**Ready to continue?** ðŸš€
