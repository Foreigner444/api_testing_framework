# Lesson 2.13: Connection Pooling with httpx

## A. Concept Overview

AsyncClient automatically manages a pool of connections for efficiency.

---

## B. Pool Configuration

```python
@pytest.mark.asyncio
async def test_connection_pool():
    limits = httpx.Limits(
        max_keepalive_connections=20,
        max_connections=100,
        keepalive_expiry=30.0
    )
    
    async with httpx.AsyncClient(limits=limits) as client:
        # All requests reuse connections from pool
        tasks = [client.get(f"https://httpbin.org/get?id={i}") for i in range(50)]
        responses = await asyncio.gather(*tasks)
        
        assert all(r.status_code == 200 for r in responses)
```

---

## C. Key Takeaways

ðŸ”‘ Connection pooling automatic with AsyncClient  
ðŸ”‘ Configure with httpx.Limits()  
ðŸ”‘ Reusing connections improves performance  

Ready for 2.14? ðŸš€
