# Lesson 2.9: Testing Multiple Endpoints Concurrently

## A. Concept Overview

Testing multiple endpoints concurrently is the main benefit of async testing. This lesson shows you how to test many endpoints simultaneously for maximum speed.

---

## B. The Core Pattern

```python
@pytest.mark.asyncio
async def test_multiple_endpoints():
    async with httpx.AsyncClient(base_url="https://jsonplaceholder.typicode.com") as client:
        # Test 10 users concurrently
        tasks = [client.get(f"/users/{i}") for i in range(1, 11)]
        responses = await asyncio.gather(*tasks)
        
        for response in responses:
            assert response.status_code == 200
```

Sync time: 10s â†’ Async time: 1-2s (5-10x faster!)

---

## C. Real Examples

```python
@pytest.mark.asyncio
async def test_all_resources_concurrently(api_client):
    responses = await asyncio.gather(
        api_client.get("/users"),
        api_client.get("/posts"),
        api_client.get("/comments"),
        api_client.get("/albums"),
        api_client.get("/photos"),
        api_client.get("/todos")
    )
    
    assert all(r.status_code == 200 for r in responses)
```

---

## D. Key Takeaways

ðŸ”‘ Use list comprehension for similar endpoints  
ðŸ”‘ asyncio.gather() runs tasks concurrently  
ðŸ”‘ Massive time savings for independent tests  
ðŸ”‘ Perfect for smoke tests and batch operations  

Ready for 2.10? ðŸš€
