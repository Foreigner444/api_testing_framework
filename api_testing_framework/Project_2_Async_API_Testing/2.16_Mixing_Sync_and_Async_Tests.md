# Lesson 2.16: Mixing Sync and Async Tests

## A. Concept Overview

You can have both sync and async tests in the same test suite!

---

## B. Mixed Test Suite

File: `tests/test_mixed.py`
```python
import pytest
import httpx
import asyncio

# Sync test - no marker needed
def test_single_user_sync():
    response = httpx.get("https://jsonplaceholder.typicode.com/users/1")
    assert response.status_code == 200

# Async test - needs marker
@pytest.mark.asyncio
async def test_multiple_users_async():
    async with httpx.AsyncClient(base_url="https://jsonplaceholder.typicode.com") as client:
        tasks = [client.get(f"/users/{i}") for i in range(1, 11)]
        responses = await asyncio.gather(*tasks)
        assert all(r.status_code == 200 for r in responses)
```

---

## C. When to Mix

âœ… **Use sync for**: Sequential workflows, simple tests  
âœ… **Use async for**: Independent operations, batch tests  

---

## D. Key Takeaways

ðŸ”‘ Can mix sync and async in same suite  
ðŸ”‘ Use each where appropriate  
ðŸ”‘ No need to convert everything to async  

Ready for 2.17 (Final lesson!)? ðŸš€
