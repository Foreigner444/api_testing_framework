# 4.6 Generating Internet Data (URLs, IPs)

## A. Concept Overview

### What & Why
Modern APIs interact heavily with internet resources â€“ URLs, IP addresses, domains, user agents. Faker generates realistic internet-related data essential for testing web services, network applications, and API endpoints that handle URLs, validate IPs, or log user agents.

### Analogy
Think of Faker's internet methods like **different tools in a network engineer's toolkit**.

- `url()` â†’ Website address generator
- `ipv4()` â†’ Local network IP creator
- `user_agent()` â†’ Browser identity simulator
- `domain_name()` â†’ Website name maker

Each tool creates the exact type of internet data you need!

---

## B. Code Implementation

### File Path: `examples/internet_data.py`

```python
"""Comprehensive examples for internet data generation."""
from faker import Faker

fake = Faker()

print("=" * 70)
print("INTERNET DATA - COMPREHENSIVE GUIDE")
print("=" * 70)

# ==================== URLS ====================
print("\nðŸŒ URLS:")
print(f"URL: {fake.url()}")
print(f"URI: {fake.uri()}")
print(f"URI path: {fake.uri_path()}")
print(f"URI extension: {fake.uri_extension()}")

# ==================== DOMAINS ====================
print("\nðŸŒ DOMAINS:")
print(f"Domain name: {fake.domain_name()}")
print(f"Domain word: {fake.domain_word()}")
print(f"TLD: {fake.tld()}")

# ==================== IP ADDRESSES ====================
print("\nðŸ’» IP ADDRESSES:")
print(f"IPv4: {fake.ipv4()}")
print(f"IPv4 private: {fake.ipv4_private()}")
print(f"IPv4 public: {fake.ipv4_public()}")
print(f"IPv6: {fake.ipv6()}")

# ==================== MAC ADDRESS ====================
print("\nðŸ”Œ MAC ADDRESS:")
print(f"MAC address: {fake.mac_address()}")

# ==================== USER AGENT ====================
print("\nðŸ–¥ï¸ USER AGENT:")
print(f"User agent: {fake.user_agent()}")
print(f"Chrome: {fake.chrome()}")
print(f"Firefox: {fake.firefox()}")
print(f"Safari: {fake.safari()}")
print(f"Internet Explorer: {fake.internet_explorer()}")

# ==================== SLUG ====================
print("\nðŸ”— SLUG:")
print(f"Slug: {fake.slug()}")

# ==================== IMAGE URL ====================
print("\nðŸ–¼ï¸ IMAGE URL:")
print(f"Image URL: {fake.image_url()}")

# ==================== PORT NUMBER ====================
print("\nðŸ”¢ PORT:")
print(f"Port: {fake.port_number()}")

print("\n" + "=" * 70)
```

---

### File Path: `tests/test_internet_data.py`

```python
"""Tests for internet data generation."""
import pytest
import re
from faker import Faker


def test_url_generation():
    """Test URL generation."""
    fake = Faker()
    
    url = fake.url()
    
    # Should start with http:// or https://
    assert url.startswith(("http://", "https://"))
    
    # Should contain domain
    assert "." in url
    
    print(f"âœ… URL: {url}")


def test_domain_generation():
    """Test domain name generation."""
    fake = Faker()
    
    domain = fake.domain_name()
    
    # Should contain at least one dot
    assert "." in domain
    
    # Should not start with http
    assert not domain.startswith("http")
    
    # Should have TLD
    parts = domain.split(".")
    assert len(parts) >= 2
    
    print(f"âœ… Domain: {domain}")


def test_ipv4_generation():
    """Test IPv4 address generation."""
    fake = Faker()
    
    ipv4 = fake.ipv4()
    
    # Should have 3 dots (4 octets)
    assert ipv4.count(".") == 3
    
    # Should match IPv4 pattern
    ipv4_pattern = r"^(\d{1,3}\.){3}\d{1,3}$"
    assert re.match(ipv4_pattern, ipv4)
    
    # Each octet should be 0-255
    octets = [int(x) for x in ipv4.split(".")]
    assert all(0 <= octet <= 255 for octet in octets)
    
    print(f"âœ… IPv4: {ipv4}")


def test_ipv4_private():
    """Test private IPv4 generation."""
    fake = Faker()
    
    private_ip = fake.ipv4_private()
    
    # Should be valid IPv4
    assert private_ip.count(".") == 3
    
    # Should be in private range
    # 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16
    first_octet = int(private_ip.split(".")[0])
    assert first_octet in [10, 172, 192]
    
    print(f"âœ… Private IPv4: {private_ip}")


def test_ipv4_public():
    """Test public IPv4 generation."""
    fake = Faker()
    
    public_ip = fake.ipv4_public()
    
    # Should be valid IPv4
    assert public_ip.count(".") == 3
    
    # Should NOT be private
    first_octet = int(public_ip.split(".")[0])
    
    # Not 10.x.x.x, 172.16-31.x.x, 192.168.x.x, 127.x.x.x
    if first_octet == 10:
        pytest.fail("Public IP should not be 10.x.x.x")
    if first_octet == 127:
        pytest.fail("Public IP should not be 127.x.x.x")
    if first_octet == 192:
        second_octet = int(public_ip.split(".")[1])
        assert second_octet != 168
    
    print(f"âœ… Public IPv4: {public_ip}")


def test_ipv6_generation():
    """Test IPv6 address generation."""
    fake = Faker()
    
    ipv6 = fake.ipv6()
    
    # Should contain colons
    assert ":" in ipv6
    
    # Should be valid format (simplified check)
    assert len(ipv6) > 10
    
    print(f"âœ… IPv6: {ipv6}")


def test_mac_address():
    """Test MAC address generation."""
    fake = Faker()
    
    mac = fake.mac_address()
    
    # Should have format XX:XX:XX:XX:XX:XX
    assert mac.count(":") == 5
    
    # Should be 17 characters
    assert len(mac) == 17
    
    # Should match pattern
    mac_pattern = r"^([0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}$"
    assert re.match(mac_pattern, mac)
    
    print(f"âœ… MAC address: {mac}")


def test_user_agent():
    """Test user agent generation."""
    fake = Faker()
    
    user_agent = fake.user_agent()
    
    # Should be non-empty string
    assert isinstance(user_agent, str)
    assert len(user_agent) > 10
    
    # Should contain browser info
    assert any(browser in user_agent.lower() 
               for browser in ["mozilla", "chrome", "safari", "firefox", "edge"])
    
    print(f"âœ… User agent: {user_agent[:50]}...")


def test_browser_specific_user_agents():
    """Test browser-specific user agents."""
    fake = Faker()
    
    chrome = fake.chrome()
    firefox = fake.firefox()
    safari = fake.safari()
    
    # All should be valid user agent strings
    assert all(len(ua) > 10 for ua in [chrome, firefox, safari])
    
    # Should contain browser name
    assert "chrome" in chrome.lower()
    assert "firefox" in firefox.lower()
    assert "safari" in safari.lower()
    
    print(f"âœ… Browser user agents!")
    print(f"   Chrome: {chrome[:40]}...")
    print(f"   Firefox: {firefox[:40]}...")


def test_slug_generation():
    """Test URL slug generation."""
    fake = Faker()
    
    slug = fake.slug()
    
    # Should be lowercase
    assert slug == slug.lower()
    
    # Should contain hyphens (likely)
    # Should not contain spaces
    assert " " not in slug
    
    print(f"âœ… Slug: {slug}")


def test_image_url():
    """Test image URL generation."""
    fake = Faker()
    
    image_url = fake.image_url()
    
    # Should be a valid URL
    assert image_url.startswith("https://")
    
    print(f"âœ… Image URL: {image_url}")


def test_port_number():
    """Test port number generation."""
    fake = Faker()
    
    port = fake.port_number()
    
    # Should be in valid range (0-65535)
    assert isinstance(port, int)
    assert 0 <= port <= 65535
    
    print(f"âœ… Port number: {port}")


# ==================== PRACTICAL USE CASES ====================

def test_api_endpoint_data():
    """Test generating data for API endpoint testing."""
    fake = Faker()
    
    api_data = {
        "callback_url": fake.url(),
        "webhook_url": fake.url(),
        "redirect_uri": fake.uri(),
        "origin": fake.url(),
        "referer": fake.url()
    }
    
    # All should be valid URLs
    assert all(url.startswith(("http://", "https://")) 
               for url in api_data.values())
    
    print(f"âœ… API endpoint data generated!")
    for key, value in api_data.items():
        print(f"   {key}: {value}")


def test_server_configuration_data():
    """Test generating server configuration data."""
    fake = Faker()
    
    server_config = {
        "host": fake.ipv4(),
        "port": fake.port_number(),
        "domain": fake.domain_name(),
        "mac_address": fake.mac_address()
    }
    
    # All should be valid
    assert "." in server_config["host"]
    assert 0 <= server_config["port"] <= 65535
    assert "." in server_config["domain"]
    assert ":" in server_config["mac_address"]
    
    print(f"âœ… Server config generated!")
    print(f"   {server_config['domain']}:{server_config['port']}")
    print(f"   IP: {server_config['host']}")


def test_network_devices():
    """Test generating network device data."""
    fake = Faker()
    
    devices = []
    for i in range(5):
        device = {
            "id": i + 1,
            "name": f"Device-{i+1}",
            "ip_address": fake.ipv4_private(),
            "mac_address": fake.mac_address(),
            "hostname": fake.domain_word()
        }
        devices.append(device)
    
    assert len(devices) == 5
    
    # All should have unique IPs (probably)
    ips = [d["ip_address"] for d in devices]
    assert len(set(ips)) >= 4
    
    print(f"âœ… Generated {len(devices)} network devices!")
    for device in devices[:3]:
        print(f"   {device['name']}: {device['ip_address']}")


def test_http_request_data():
    """Test generating HTTP request data."""
    fake = Faker()
    
    request_data = {
        "url": fake.url(),
        "user_agent": fake.user_agent(),
        "ip_address": fake.ipv4_public(),
        "referer": fake.url(),
        "origin": fake.url()
    }
    
    # All should be valid
    assert all(value for value in request_data.values())
    
    print(f"âœ… HTTP request data generated!")
    print(f"   URL: {request_data['url']}")
    print(f"   IP: {request_data['ip_address']}")
```

---

## D. Common Stumbling Blocks

### Problem 1: IPv4 Format

```python
# Returns string, not tuple
ipv4 = fake.ipv4()  # "192.168.1.1"

# To get as tuple:
octets = tuple(map(int, ipv4.split(".")))  # (192, 168, 1, 1)
```

---

### Problem 2: User Agent Length

```python
# User agents can be very long
user_agent = fake.user_agent()
# Might be 100+ characters

# Truncate if needed
short_ua = user_agent[:100]
```

---

## E. What You've Learned

âœ… Generating URLs and URIs  
âœ… Domain names and TLDs  
âœ… IPv4 addresses (private/public)  
âœ… IPv6 addresses  
âœ… MAC addresses  
âœ… User agents (browser-specific)  
âœ… Slugs and ports  
âœ… Image URLs  
âœ… Network configuration data  

---

## F. What's Next?

In **Lesson 4.7 (Generating Lorem Text)**, we'll learn:
- Words, sentences, paragraphs
- Text with specific lengths
- Lorem ipsum variants

Your internet data toolkit is complete! ðŸŽ‰

---

**Ready for the next lesson?**
