# 4.2 Installing and Basic Faker Usage

## A. Concept Overview

### What & Why
Before generating fake data, we need to install Faker and understand its basic usage patterns. Faker is a Python package that provides a simple API to generate data through "providers" â€“ modules that know how to create specific types of data like names, addresses, or dates.

### Analogy
Think of Faker like **a vending machine with different buttons**.

Each button (provider method) gives you a different type of snack (data):
- Press `name()` â†’ Get a random name
- Press `email()` â†’ Get a random email
- Press `address()` â†’ Get a random address

Simple, predictable, and always fresh!

---

## B. Installation

### File Path: `requirements.txt`

```txt
# Add to your existing requirements.txt

# Core dependencies
faker>=18.0.0

# Already installed from Project 3
pydantic>=2.0.0
httpx>=0.24.0
pytest>=7.0.0
pytest-asyncio>=0.21.0
```

### Install Faker

```bash
# Install Faker
pip install faker

# Or install with all dependencies
pip install faker>=18.0.0
```

### Verify Installation

```bash
# Check Faker version
python -c "from faker import Faker; print(Faker.__version__)"

# Should output: 18.x.x or higher
```

---

## C. Basic Usage

### File Path: `examples/faker_basics.py`

```python
"""Basic Faker usage examples."""
from faker import Faker

# Create a Faker instance
fake = Faker()

print("=" * 60)
print("BASIC FAKER EXAMPLES")
print("=" * 60)

# Names
print("\nğŸ“ NAMES:")
print(f"Name: {fake.name()}")
print(f"First name: {fake.first_name()}")
print(f"Last name: {fake.last_name()}")
print(f"Name (male): {fake.name_male()}")
print(f"Name (female): {fake.name_female()}")

# Email and Internet
print("\nğŸ“§ EMAIL & INTERNET:")
print(f"Email: {fake.email()}")
print(f"Safe email: {fake.safe_email()}")
print(f"Free email: {fake.free_email()}")
print(f"Company email: {fake.company_email()}")
print(f"Username: {fake.user_name()}")

# Phone Numbers
print("\nğŸ“± PHONE NUMBERS:")
print(f"Phone: {fake.phone_number()}")
print(f"MSISDN: {fake.msisdn()}")

# Addresses
print("\nğŸ  ADDRESSES:")
print(f"Address: {fake.address()}")
print(f"Street address: {fake.street_address()}")
print(f"City: {fake.city()}")
print(f"State: {fake.state()}")
print(f"Zipcode: {fake.zipcode()}")
print(f"Country: {fake.country()}")

# Dates and Times
print("\nğŸ“… DATES & TIMES:")
print(f"Date: {fake.date()}")
print(f"Date of birth: {fake.date_of_birth()}")
print(f"Date this year: {fake.date_this_year()}")
print(f"Date time: {fake.date_time()}")
print(f"Time: {fake.time()}")

# Numbers
print("\nğŸ”¢ NUMBERS:")
print(f"Random int: {fake.random_int()}")
print(f"Random int (1-100): {fake.random_int(min=1, max=100)}")
print(f"Random digit: {fake.random_digit()}")
print(f"Random float: {fake.pyfloat()}")

# Text
print("\nğŸ“– TEXT:")
print(f"Word: {fake.word()}")
print(f"Sentence: {fake.sentence()}")
print(f"Text (50 chars): {fake.text(max_nb_chars=50)}")

# Company
print("\nğŸ¢ COMPANY:")
print(f"Company: {fake.company()}")
print(f"Job: {fake.job()}")
print(f"Catch phrase: {fake.catch_phrase()}")

# Internet URLs
print("\nğŸŒ URLS & DOMAINS:")
print(f"URL: {fake.url()}")
print(f"Domain: {fake.domain_name()}")
print(f"IPv4: {fake.ipv4()}")
print(f"IPv6: {fake.ipv6()}")

# Colors
print("\nğŸ¨ COLORS:")
print(f"Color name: {fake.color_name()}")
print(f"Hex color: {fake.hex_color()}")
print(f"RGB color: {fake.rgb_color()}")

print("\n" + "=" * 60)
```

---

## D. Testing Basic Faker

### File Path: `tests/test_faker_basics.py`

```python
"""Tests for basic Faker functionality."""
import pytest
from faker import Faker


def test_faker_installation():
    """Test that Faker is installed and working."""
    fake = Faker()
    
    # Should generate data without errors
    name = fake.name()
    email = fake.email()
    
    assert isinstance(name, str)
    assert len(name) > 0
    assert isinstance(email, str)
    assert "@" in email
    
    print(f"âœ… Faker works! Generated: {name} ({email})")


def test_faker_generates_different_data():
    """Test that Faker generates different data each time."""
    fake = Faker()
    
    # Generate 10 names
    names = [fake.name() for _ in range(10)]
    
    # All should be strings
    assert all(isinstance(name, str) for name in names)
    
    # Most should be unique (theoretically could have duplicates)
    unique_names = set(names)
    assert len(unique_names) >= 8  # At least 8 out of 10 should be unique
    
    print(f"âœ… Generated {len(names)} names, {len(unique_names)} unique")


def test_faker_name_methods():
    """Test various name generation methods."""
    fake = Faker()
    
    # Different name methods
    name = fake.name()
    first_name = fake.first_name()
    last_name = fake.last_name()
    name_male = fake.name_male()
    name_female = fake.name_female()
    
    # All should be non-empty strings
    assert all(len(n) > 0 for n in [name, first_name, last_name, name_male, name_female])
    
    print(f"âœ… Name methods work!")
    print(f"   Full name: {name}")
    print(f"   First: {first_name}, Last: {last_name}")


def test_faker_email_methods():
    """Test email generation methods."""
    fake = Faker()
    
    email = fake.email()
    safe_email = fake.safe_email()
    free_email = fake.free_email()
    company_email = fake.company_email()
    
    # All should contain @
    emails = [email, safe_email, free_email, company_email]
    assert all("@" in e for e in emails)
    
    # Safe email uses safe domain
    assert any(domain in safe_email for domain in ["example.com", "example.org", "example.net"])
    
    # Free email uses free providers
    free_domains = ["gmail.com", "yahoo.com", "hotmail.com"]
    assert any(domain in free_email for domain in free_domains)
    
    print(f"âœ… Email methods work!")
    print(f"   Regular: {email}")
    print(f"   Safe: {safe_email}")
    print(f"   Free: {free_email}")


def test_faker_address_methods():
    """Test address generation methods."""
    fake = Faker()
    
    address = fake.address()
    street = fake.street_address()
    city = fake.city()
    state = fake.state()
    zipcode = fake.zipcode()
    country = fake.country()
    
    # All should be non-empty strings
    assert all(len(x) > 0 for x in [address, street, city, state, zipcode, country])
    
    # Address should be multi-line
    assert "\n" in address or len(address) > 20
    
    print(f"âœ… Address methods work!")
    print(f"   City: {city}, {state} {zipcode}")


def test_faker_date_methods():
    """Test date generation methods."""
    from datetime import date, datetime
    
    fake = Faker()
    
    date_obj = fake.date_object()
    datetime_obj = fake.date_time()
    date_of_birth = fake.date_of_birth()
    
    # Check types
    assert isinstance(date_obj, date)
    assert isinstance(datetime_obj, datetime)
    assert isinstance(date_of_birth, date)
    
    # Date of birth should be in the past
    assert date_of_birth < date.today()
    
    print(f"âœ… Date methods work!")
    print(f"   Date: {date_obj}")
    print(f"   Date of birth: {date_of_birth}")


def test_faker_number_methods():
    """Test number generation methods."""
    fake = Faker()
    
    random_int = fake.random_int()
    random_int_range = fake.random_int(min=1, max=100)
    random_digit = fake.random_digit()
    random_float = fake.pyfloat()
    
    # Check types
    assert isinstance(random_int, int)
    assert isinstance(random_int_range, int)
    assert isinstance(random_digit, int)
    assert isinstance(random_float, float)
    
    # Check ranges
    assert 1 <= random_int_range <= 100
    assert 0 <= random_digit <= 9
    
    print(f"âœ… Number methods work!")
    print(f"   Int: {random_int}")
    print(f"   Range (1-100): {random_int_range}")


def test_faker_text_methods():
    """Test text generation methods."""
    fake = Faker()
    
    word = fake.word()
    sentence = fake.sentence()
    text = fake.text(max_nb_chars=100)
    paragraph = fake.paragraph()
    
    # All should be non-empty strings
    assert all(len(x) > 0 for x in [word, sentence, text, paragraph])
    
    # Text should respect max length (approximately)
    assert len(text) <= 110  # Some margin
    
    # Sentence should end with punctuation
    assert sentence[-1] in ".!?"
    
    print(f"âœ… Text methods work!")
    print(f"   Word: {word}")
    print(f"   Sentence: {sentence}")


def test_faker_company_methods():
    """Test company-related methods."""
    fake = Faker()
    
    company = fake.company()
    job = fake.job()
    catch_phrase = fake.catch_phrase()
    bs = fake.bs()
    
    # All should be non-empty strings
    assert all(len(x) > 0 for x in [company, job, catch_phrase, bs])
    
    print(f"âœ… Company methods work!")
    print(f"   Company: {company}")
    print(f"   Job: {job}")


def test_faker_internet_methods():
    """Test internet-related methods."""
    fake = Faker()
    
    url = fake.url()
    domain = fake.domain_name()
    ipv4 = fake.ipv4()
    ipv6 = fake.ipv6()
    user_agent = fake.user_agent()
    
    # Basic validations
    assert url.startswith("http")
    assert "." in domain
    assert ipv4.count(".") == 3
    assert ":" in ipv6
    
    print(f"âœ… Internet methods work!")
    print(f"   URL: {url}")
    print(f"   IPv4: {ipv4}")


def test_faker_multiple_instances():
    """Test that multiple Faker instances work independently."""
    fake1 = Faker()
    fake2 = Faker()
    
    name1 = fake1.name()
    name2 = fake2.name()
    
    # Both should generate valid names
    assert len(name1) > 0
    assert len(name2) > 0
    
    # They'll likely be different (not guaranteed, but probable)
    print(f"âœ… Multiple instances work!")
    print(f"   Instance 1: {name1}")
    print(f"   Instance 2: {name2}")


def test_faker_generate_many():
    """Test generating large amounts of data."""
    fake = Faker()
    
    # Generate 100 emails
    emails = [fake.email() for _ in range(100)]
    
    assert len(emails) == 100
    assert all("@" in email for email in emails)
    
    # Check uniqueness (most should be unique)
    unique_emails = set(emails)
    uniqueness_ratio = len(unique_emails) / len(emails)
    assert uniqueness_ratio > 0.95  # At least 95% unique
    
    print(f"âœ… Generated {len(emails)} emails!")
    print(f"   Unique: {len(unique_emails)} ({uniqueness_ratio:.1%})")
```

---

## E. Connect & Apply

### How to Test It

```bash
# Run the example script
python examples/faker_basics.py

# Run tests
pytest tests/test_faker_basics.py -v -s
```

### Expected Result

```
BASIC FAKER EXAMPLES
====================================================
ğŸ“ NAMES:
Name: Jennifer Martinez
First name: Michael
Last name: Johnson
...

tests/test_faker_basics.py::test_faker_installation PASSED
âœ… Faker works! Generated: Emily Chen (emily.chen@gmail.com)

tests/test_faker_basics.py::test_faker_generates_different_data PASSED
âœ… Generated 10 names, 9 unique

======================== 10 passed in 0.52s =========================
```

---

## F. Common Stumbling Blocks

### Problem 1: Import Error

```python
# âŒ Wrong
from Faker import Faker  # Capital F

# âœ… Correct
from faker import Faker  # Lowercase f
```

---

### Problem 2: Forgetting to Create Instance

```python
# âŒ Wrong
from faker import Faker
name = Faker.name()  # TypeError!

# âœ… Correct
from faker import Faker
fake = Faker()
name = fake.name()
```

---

### Problem 3: Expecting Same Data

```python
fake = Faker()
name1 = fake.name()  # "John Smith"
name2 = fake.name()  # "Emily Brown" - different!

# Data is random by default!
# Use seeding for reproducibility (covered in Lesson 4.10)
```

---

## G. Quick Reference

### Most Common Methods

```python
from faker import Faker
fake = Faker()

# Personal Data
fake.name()           # "John Doe"
fake.email()          # "john@example.com"
fake.phone_number()   # "+1-555-123-4567"

# Address
fake.address()        # Full address
fake.city()           # "Boston"
fake.country()        # "United States"

# Dates
fake.date()           # "2024-01-15"
fake.date_of_birth()  # date object

# Numbers
fake.random_int(1, 100)  # Random int between 1-100

# Text
fake.sentence()       # Random sentence
fake.text()           # Random text

# Internet
fake.url()            # "https://example.com"
fake.ipv4()           # "192.168.1.1"
```

---

## H. What You've Learned

âœ… How to install Faker  
âœ… Creating Faker instances  
âœ… Basic data generation methods  
âœ… Names, emails, addresses  
âœ… Dates, numbers, text  
âœ… Company and internet data  
âœ… Testing Faker functionality  

---

## I. What's Next?

In **Lesson 4.3 (Generating Names and Addresses)**, we'll dive deeper into:
- Different name formats
- Gender-specific names
- Name prefixes and suffixes
- Complete address generation
- International addresses

You're now ready to generate fake data! ğŸ‰

---

**Ready for the next lesson?**
